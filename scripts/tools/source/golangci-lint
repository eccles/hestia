#
# Installs go linter
#
# This file is sourced
#
. ./scripts/source/log
. ./scripts/source/environment
. ./scripts/tools/source/common

GOLANG_LINT_CMD=golangci-lint
GOLANG_LINT_VERSION=1.44.0

golangci-lint_installer() {
	local cmd=$1
	local new_version=$2
	cd "${TEMPDIR}"
	local="${GOROOT}/bin"
	log_info "Downloading installation script"
        curl -fsSOL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh 
	log_info "Install ${cmd} ${new_version} in ${local}"
        sh ./install.sh -b "${local}" "v${new_version}"
}
golangci-lint_install() {
	common_install "${GOLANG_LINT_CMD}" "${GOLANG_LINT_VERSION}"
}

golangci-lint_version() {
	${cmd} --version | cut -d' ' -f4
}
